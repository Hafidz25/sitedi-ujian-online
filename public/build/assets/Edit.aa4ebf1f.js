import{L as x}from"./Admin.bfe2a804.js";import{H as q,L as v,r as k,a as f,o as d,c as m,b as s,w as b,d as i,e as V,g,t as p,f as S,s as U,F as j,h as a,i as h,j as B}from"./app.4e8d6ed2.js";import{S as c}from"./sweetalert2.all.2a976501.js";import{E as I}from"./Editor.bd2b843f.js";import{_ as C}from"./_plugin-vue_export-helper.cdc0426e.js";const E={layout:x,components:{Head:q,Link:v,Editor:I},props:{errors:Object,exam:Object,question:Object},setup(e){const t=k({img:e.question.img,question:e.question.question,option_1:e.question.option_1,option_2:e.question.option_2,option_3:e.question.option_3,option_4:e.question.option_4,option_5:e.question.option_5,answer:e.question.answer,condition:1,img2:e.question.img});return{form:t,submit:()=>{if(!t.option_5&&t.answer==="5")return c.fire({title:"Gagal!",text:"Kunci jawaban tidak tersedia",icon:"warning",showConfirmButton:!1,timer:2e3});a.Inertia.post(`/admin/exams/${e.exam.id}/questions/delImage`,{}),t.condition===0?a.Inertia.post(`/admin/exams/${e.exam.id}/questions/update`,{img:t.img,question:t.question,option_1:t.option_1,option_2:t.option_2,option_3:t.option_3,option_4:t.option_4,option_5:t.option_5,answer:t.answer,img2:t.img2},{onSuccess:()=>{c.fire({title:"Berhasil!",text:"Soal Ujian Berhasil Disimpan!",icon:"success",showConfirmButton:!1,timer:2e3}),a.Inertia.delete(`/admin/exams/${e.exam.id}/questions/${e.question.id}/destroy`)}}):t.condition===3?a.Inertia.post(`/admin/exams/${e.exam.id}/questions/updatenoimage`,{img:"",question:t.question,option_1:t.option_1,option_2:t.option_2,option_3:t.option_3,option_4:t.option_4,option_5:t.option_5,answer:t.answer,condition:3,img2:t.img2},{onSuccess:()=>{c.fire({title:"Berhasil!",text:"Soal Ujian Berhasil Disimpan!",icon:"success",showConfirmButton:!1,timer:2e3}),a.Inertia.delete(`/admin/exams/${e.exam.id}/questions/${e.question.id}/destroy`)}}):a.Inertia.post(`/admin/exams/${e.exam.id}/questions/updatenoimage`,{img:t.img2,question:t.question,option_1:t.option_1,option_2:t.option_2,option_3:t.option_3,option_4:t.option_4,option_5:t.option_5,answer:t.answer,condition:1},{onSuccess:()=>{c.fire({title:"Berhasil!",text:"Soal Ujian Berhasil Disimpan!",icon:"success",showConfirmButton:!1,timer:2e3}),a.Inertia.delete(`/admin/exams/${e.exam.id}/questions/${e.question.id}/destroy`)}})}}},data(){return{imageUrl:null}},methods:{selectedFile(e){const t=e.target.files[0];if(t){const l=new FileReader;l.onload=o=>{this.imageUrl=o.target.result},l.readAsDataURL(t)}this.condition=0},removeSelect(e){this.imageUrl=null,this.form.img="",this.$refs.formImage.value="",this.form.condition=3}}},D=i("title",null,"Edit Soal Ujian - SITEDI",-1),F=i("link",{rel:"shortcut icon",type:"image/png",href:"/assets/images/favicon.ico"},null,-1),L={class:"container-fluid mb-5 mt-5"},N={class:"row"},P={class:"col-md-12"},R=i("i",{class:"fa fa-long-arrow-alt-left me-2"},null,-1),A=h(" Kembali"),H={class:"card border-0 shadow"},T={class:"card-body"},O=i("h5",null,[i("i",{class:"fa fa-question-circle"}),h(" Edit Soal Ujian ")],-1),G=i("hr",null,null,-1),K={class:"mb-4"},M=i("label",null,"File Gambar (optional)",-1),J={class:"d-flex align-items-center"},z={key:0},Q=["src"],W={key:1},X=["src"],Y={key:2,class:"alert alert-danger mt-2"},Z={key:3,class:"alert alert-danger mt-2"},$={class:"table-responsive mb-4"},tt={class:"table table-bordered table-centered table-nowrap mb-0 rounded"},it=i("td",{style:{width:"20%"},class:"fw-bold"}," Soal ",-1),et=i("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan A ",-1),ot=i("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan B ",-1),nt=i("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan C ",-1),lt=i("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan D ",-1),st=i("td",{style:{width:"20%"},class:"fw-bold"}," Pilihan E ",-1),at=i("td",{style:{width:"20%"},class:"fw-bold"}," Jawaban Benar ",-1),rt=B('<option value="1">A</option><option value="2">B</option><option value="3">C</option><option value="4">D</option><option value="5">E</option>',5),dt=[rt],mt=i("button",{type:"submit",class:"btn btn-md btn-primary border-0 shadow me-2"}," Simpan ",-1),ut=i("button",{type:"reset",class:"btn btn-md btn-warning border-0 shadow"}," Reset ",-1);function ct(e,t,l,o,_,u){const y=f("Head"),w=f("Link"),r=f("Editor");return d(),m(j,null,[s(y,null,{default:b(()=>[D,F]),_:1}),i("div",L,[i("div",N,[i("div",P,[s(w,{href:`/admin/exams/${l.exam.id}`,class:"btn btn-md btn-primary border-0 shadow mb-3",type:"button"},{default:b(()=>[R,A]),_:1},8,["href"]),i("div",H,[i("div",T,[O,G,i("form",{onSubmit:t[10]||(t[10]=V((...n)=>o.submit&&o.submit(...n),["prevent"]))},[i("div",K,[M,i("div",J,[i("input",{type:"file",class:"form-control",ref:"formImage",accept:".jpg, .jpeg, .png",onChange:t[0]||(t[0]=(...n)=>u.selectedFile&&u.selectedFile(...n)),onInput:t[1]||(t[1]=n=>(o.form.condition=0,o.form.img=n.target.files[0]))},null,544),i("span",null,[i("i",{class:"fas fa-times-circle",style:{width:"24px",marginLeft:"8px",cursor:"pointer"},onClick:t[2]||(t[2]=(...n)=>u.removeSelect&&u.removeSelect(...n))})])]),_.imageUrl===null&&o.form.img!==""?(d(),m("div",z,[i("img",{src:/storage/+o.form.img,style:{width:"70%",marginTop:"16px",borderRadius:"12px"}},null,8,Q)])):_.imageUrl?(d(),m("div",W,[i("img",{src:_.imageUrl,style:{width:"70%",marginTop:"16px",borderRadius:"12px"}},null,8,X)])):g("",!0),l.errors.file?(d(),m("div",Y,p(l.errors.file),1)):g("",!0),l.errors[0]?(d(),m("div",Z,p(l.errors[0]),1)):g("",!0)]),i("div",$,[i("table",tt,[i("tbody",null,[i("tr",null,[it,i("td",null,[s(r,{"api-key":"no-api-key",modelValue:o.form.question,"onUpdate:modelValue":t[3]||(t[3]=n=>o.form.question=n),init:{menubar:!1,plugins:"lists",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"}},null,8,["modelValue"])])]),i("tr",null,[et,i("td",null,[s(r,{"api-key":"no-api-key",modelValue:o.form.option_1,"onUpdate:modelValue":t[4]||(t[4]=n=>o.form.option_1=n),init:{height:130,menubar:!1,plugins:"lists",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"}},null,8,["modelValue"])])]),i("tr",null,[ot,i("td",null,[s(r,{"api-key":"no-api-key",modelValue:o.form.option_2,"onUpdate:modelValue":t[5]||(t[5]=n=>o.form.option_2=n),init:{height:130,menubar:!1,plugins:"lists",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"}},null,8,["modelValue"])])]),i("tr",null,[nt,i("td",null,[s(r,{"api-key":"no-api-key",modelValue:o.form.option_3,"onUpdate:modelValue":t[6]||(t[6]=n=>o.form.option_3=n),init:{height:130,menubar:!1,plugins:"lists",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"}},null,8,["modelValue"])])]),i("tr",null,[lt,i("td",null,[s(r,{"api-key":"no-api-key",modelValue:o.form.option_4,"onUpdate:modelValue":t[7]||(t[7]=n=>o.form.option_4=n),init:{height:130,menubar:!1,plugins:"lists",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"}},null,8,["modelValue"])])]),i("tr",null,[st,i("td",null,[s(r,{"api-key":"no-api-key",modelValue:o.form.option_5,"onUpdate:modelValue":t[8]||(t[8]=n=>o.form.option_5=n),init:{height:130,menubar:!1,plugins:"lists",toolbar:"styleselect | bold italic | alignleft aligncenter alignright alignjustify | bullist numlist"}},null,8,["modelValue"])])]),i("tr",null,[at,i("td",null,[S(i("select",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=n=>o.form.answer=n)},dt,512),[[U,o.form.answer]])])])])])]),mt,ut],32)])])])])])],64)}const ht=C(E,[["render",ct]]);export{ht as default};
